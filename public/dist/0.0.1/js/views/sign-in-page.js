import{a as B}from"../chunk-UNBYCMN2.js";import{b as m,c as p,d as g}from"../chunk-TVQHBZNT.js";import{a as d,b as a}from"../chunk-OOUCEZ5I.js";var S=d((w,u)=>{var{AuthServiceComponent:f}=B(),{loadContent:E,navigateHandler:c}=g(),{context:l}=p(),{DEFAULT_LANGUAGE:o}=m(),s=class{node=null;titleElem=null;emailInputElem=null;passwordInputElem=null;passwordLabelElem=null;signUpBtn=null;signInBtn=null;cancelBtn=null;authService=null;signUpBtnClickHandler;cancelBtnClickHandler;formSubmitHandler;static get instance(){return s.page||(s.page=new s),s.page}constructor(){this.formSubmitHandler=t=>{t.preventDefault();let n=this.node?.querySelector(".main-card form"),i=new FormData(n);console.log("Form submited: "),i.forEach((e,h)=>{console.log(h+":",e)})},this.signUpBtnClickHandler=t=>c(t,this.signUpBtn),this.cancelBtnClickHandler=t=>c(t,this.cancelBtn)}get elem(){return this.node}async init(t,n){let i=await E(t,n,[]);this.node=i.querySelector('[data-page="signin-page"]')||null;let e=this.node?.querySelector(".main-card form");return this.titleElem=this.node?.querySelector('[data-title="main"]')||null,this.emailInputElem=e?.querySelector("#email")||null,this.passwordInputElem=e?.querySelector("#password")||null,this.passwordLabelElem=e?.querySelector("#password-label")||null,this.signUpBtn=e?.querySelector('[data-button="sign-up"]')||null,this.signInBtn=e?.querySelector('[data-button="sign-in"]')||null,this.cancelBtn=e?.querySelector('[data-button="cancel"]')||null,this.authService=new f,await this.authService.init(this,n),i}async mount(){this.node?.querySelector(".main-card form")?.addEventListener("submit",this.formSubmitHandler),this.signUpBtn?.addEventListener("click",this.signUpBtnClickHandler),this.cancelBtn?.addEventListener("click",this.cancelBtnClickHandler)}async unmount(){this.node?.querySelector(".main-card form")?.removeEventListener("submit",this.formSubmitHandler),this.signUpBtn?.removeEventListener("click",this.signUpBtnClickHandler),this.cancelBtn?.removeEventListener("click",this.cancelBtnClickHandler)}async load(t,n,i){this.titleElem&&(this.titleElem.textContent=l.tr("Sign In")),this.passwordInputElem&&(this.passwordInputElem.placeholder=l.tr("Password")+"*"),this.passwordLabelElem&&(this.passwordLabelElem.textContent=l.tr("Password")+"*"),this.signUpBtn&&(this.signUpBtn.textContent=l.tr("Sign Up")),this.signInBtn&&(this.signInBtn.textContent=l.tr("Sign In")),this.cancelBtn&&(this.cancelBtn.textContent=l.tr("Cancel")),this.signUpBtn?.setAttribute("href",(t===o?"":`/${t}`)+"/sign-up"),this.cancelBtn?.setAttribute("href",(t===o?"":`/${t}`)+"/"),await this.authService?.load?.(t,n,i)}},r=s;a(r,"page",null);u.exports={SignInPage:r}});export default S();
